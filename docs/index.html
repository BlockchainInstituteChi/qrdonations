<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="icon" href="../../../../favicon.ico"> -->
    <!-- Angular Components  -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/0.8.0/angularfire.min.js"></script>
    <link rel='stylesheet' id='cryptocoins-css'  href='./css/cryptocoins.css'> 
    <link rel='stylesheet' id='custom-css'  href='./css/style.css'> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="https://checkout.stripe.com/checkout.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <noscript><link rel='stylesheet' id='noscript-css'  href='./css/noscript.css'></noscript>
    <script src="https://rawgit.com/VividCortex/angular-recaptcha/master/release/angular-recaptcha.js"></script>
    <script type="text/javascript" src="scripts/qrcode.js"></script>
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,700|PT+Serif', rel='stylesheet'>
    <link href='//fonts.googleapis.com/css?family=Roboto+Condensed:400,700', rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css?family=Kanit" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">     

  </head>

  <body ng-app="donationsManager">

    <div class="container" ng-controller="donationsCtrl">
        <div class="formView {{isHidden.formView}}">
            <h1>Donate to the blockchain institute</h1>
            <div class="amountEntry">
                <div class="left">
                    <span class="dollarSign">$</span>
                    <input step='0.01' value='0.00' placeholder='0.00'  ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="0.01" ng-keyup="updateConversion()" ng-click="updateConversion()" ng-model="donationAmount"  type="number">
                </div>
                <i ng-click="updateConvertedValue()" class="fas fa-arrows-alt-h"></i>
                <div class="right {{isDisabled.conversions}}">  
                    <span class="altCurrencyCode" ng-bind="currency"></span>
                    <input step="any" ng-keyup="updateUSDValue()" ng-click="updateUSDValue()" ng-disable="{{isDisabled.conversions}}" ng-model="altCurrencyAmount" type="number">
                </div>
            </div>
            <div class="currencySelectDropdown">
                <input type="text" ng-model="selectedCurrency">
                <select ng-model="selectedCurrency">
                    <option ng-click="setCurrency(x.code, x.name)" ng-repeat="x in set">{{x.name}} ({{x.code}})</option>
                </select>
            </div>
            <div class="nameAndEmail">
                <input type="text" placeholder="Satoshi Nakomoto" ng-model="donorName">
                <input type="text" placeholder="satoshi@theblockchaininstitute.org" ng-model="donorEmail">
                
            </div>
            <div class="clickAndSubmit">
                <div class="topRow">
                    <input class="checkbox-box" type="checkbox" id="termsAndConditionsCheckbox" ng-model="termsAndConditions" checked>
                    <label  class="checkbox-label" for="termsAndConditionsCheckbox"> I agree to the terms and conditions.</label>
                </div>
                <div class="bottomRow">
                    <div class="left">
                        <div
                            class="recaptchaContainer"
                            vc-recaptcha
                            theme="'light'"
                            key="key"
                            on-create="setWidgetId(widgetId)"
                            on-success="setResponse(response)"
                            on-expire="cbExpiration()"
                            style="transform:scale(0.89);-webkit-transform:scale(0.89);transform-origin:0 0;-webkit-transform-origin:0 0;"
                        ></div>
                    </div>
                    <div class="right">
                        <button class="submitDonation {{isHidden.cryptoMode}}" ng-click="revealQRCode()">Reveal QR Code</button>
                        <a ng-disabled="{{isDisabled.stripeButton}}" class="{{isHidden.stripeMode}} " href="" ng-click="onStripe('pk_live_j9F9S8Av7YGE4VH0CH4y891l')"><button class="submitDonation">Pay with Stripe</button></a>
                    </div>
                </div>

            </div>
        </div>
        <div class="stripeView {{isHidden.stripeView}}">
            <div class="backButton" ng-click="back(4)">
                <i class="fas fa-chevron-left"></i>
            </div>
            <h1>Verify Amount</h1>
            <span class="currencyTypeLabel">$</span><input class="donationAmount" ng-model="donationAmount" type="number" value="100.00" placeholder="100.00" min="0.01" step="0.01" max="5000">
            <a href="" ng-click="onStripe('pk_live_j9F9S8Av7YGE4VH0CH4y891l')">
                <button class="submitDonation">Pay with Stripe</button></a>
            <!-- <a href="" ng-click="onStripe('pk_test_xfP1IdV5ytXTYwsCj8jjtxs3')"><button class="submitDonation">Pay with Stripe</button></a> -->
            
            <div class="securePaymentsMessage"><img src="/images/secure-stripe-payment-logo.png"></div>

            
        </div>
        <div class="qrCodeView {{isHidden.qrCodeView}}">
                <div class="backButton" ng-click="backFromQR()">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <h1> Scan the QR Code below to donate your funds:</h1>
                <canvas id="qrCode">
                </canvas>
                <!-- <hr> -->
                <div class="donationAmount">
                    ${{donationAmount}} 
                    <span class="currencyAlt"> {{donationAmountAlt}} {{currency}} </span>
                </div> 
                <br>
                <span class="addressCopier" ng-click="copyAddressToClipboard()">
                    <input id="addressCopier" type="text" ng-model="address" class="addressCopier" disabled>
                    <i class="fa fa-copy"></i>
                </span>
                <span class="copySuccessMessageFlat {{copySuccessMessage}}">Address copied to keyboard!</span>
                <a href="{{ uri }}" class="walletLink">Open in Wallet</a>
                <button class="nextBtn submitDonation" type="next" ng-click="next(7)">Next</button>
                <div class="securePaymentsMessage"><h3>Secure payments powered by</h3><img src="/images/coinpayments-logo.png"></div>            
        </div>
    </div>
  </body>


  <footer>
          <script type="text/javascript" src="donationCtrl.js" defer></script>
  </footer>